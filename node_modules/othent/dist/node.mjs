import{KJUR as t}from"jsrsasign";import o from"jwk-to-pem";import a from"axios";async function n(n){const r={iat:Math.floor(Date.now()/1e3),sub:n.sub,contract_id:n.contract_id,tags:n.tags,contract_input:{data:n.data,othentFunction:n.othentFunction}},i=n.privateKey,e=o(i,{private:!0}),s={alg:"RS256",typ:"JWT",exp:Math.floor(Date.now()/1e3)+3600},c=t.jws.JWS.sign("RS256",JSON.stringify(s),JSON.stringify(r),e);return await a({method:"POST",url:"https://server.othent.io/JWK-backup-transaction",data:{JWK_signed_JWT:c,API_ID:n.API_ID}}).then((t=>t.data)).catch((t=>{throw console.log(t.response.data),t}))}export{n as JWKBackupTxn};
//# sourceMappingURL=node.mjs.map
